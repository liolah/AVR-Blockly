<html>
  <head>
    <meta charset="utf-8" />
    <title>Mega Blocks x32</title>
    <script type="text/javascript" src="./index.js" defer></script>
    <script type="text/javascript" src="./js/blockly.js"></script>
    <script type="module" src="./js/blocks.js"></script>
    <script type="module" src="./js/avr.js"></script>
    <script type="text/javascript" src="./js/Blob.js"></script>
    <script type="text/javascript" src="./js/spin.js"></script>
    <script type="text/javascript" src="./js/main.js"></script>
    <script type="text/javascript" src="./msg/js/en.js"></script>
    <link rel="stylesheet" href="./css/style.css" />
  </head>

  <body onload="init()">
    <table height="100%" width="100%" style="margin-top: 15px">
      <tr>
        <td>
          <table width="100%">
            <tr id="tabRow" height="1em">
              <td id="tab_blocks" class="tabon" onclick="tabClick('blocks')">
                Blocks
              </td>
              <td class="tabmin">&nbsp;</td>
              <!--td id="tab_javascript" class="taboff" onclick="tabClick(this.id)">JavaScript</td>
            <td class="tabmin">&nbsp;</td-->
              <!--td id="tab_dart" class="taboff" onclick="tabClick(this.id)">Dart</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_python" class="taboff" onclick="tabClick(this.id)">Python</td>
            <td class="tabmin">&nbsp;</td-->
              <td id="tab_avr" class="taboff" onclick="tabClick('avr')">AVR</td>
              <td class="tabmin">&nbsp;</td>
              <td
                id="tab_xml"
                class="taboff"
                onclick="tabClick('xml')"
                style="
                  border-top: none;
                  border-right: none;
                  border-left: none;
                  background: transparent;
                "
              ></td>
              <td class="tabmax">
                <!-- liolah -->
                <button type="button" onclick="uploadClick()">Upload</button>
                <!-- <button type="button" onclick="resetClick()">Reset</button> -->
                <button onclick="discard()">Discard</button>
                <button onclick="saveCode()">Save AVR Code</button>
                <button onclick="save()">Save Project</button>
                <button id="fakeload" style="margin-right: 20px">
                  Load Project
                </button>
                <input type="file" id="load" style="display: none" />
                <!--button class="launch" onclick="runJS()">Run Program</button-->
              </td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td height="99%" id="content_area"></td>
      </tr>
    </table>
    <div id="content_blocks" class="content"></div>
    <!-- Edit code editor here - liolah -->
    <textarea id="content_avr" class="content" readonly wrap="off"></textarea>
    <textarea id="content_xml" readonly class="content" wrap="off"></textarea>

    <xml id="toolbox" style="display: none">
      <category name="Logic">
        <block type="controls_if"></block>
        <block type="logic_compare"></block>
        <block type="logic_operation"></block>
        <block type="logic_negate"></block>
        <block type="logic_null"></block>
      </category>
      <category name="Control">
        <block type="base_delay">
          <value name="DELAY_TIME">
            <block type="math_number">
              <field name="NUM">1000</field>
            </block>
          </value>
        </block>
        <block type="controls_for">
          <value name="FROM">
            <block type="math_number">
              <field name="NUM">1</field>
            </block>
          </value>
          <value name="TO">
            <block type="math_number">
              <field name="NUM">10</field>
            </block>
          </value>
        </block>
        <block type="controls_whileUntil"></block>
      </category>
      <category name="Math">
        <block type="math_number"></block>
        <block type="math_arithmetic"></block>
        <block type="base_map">
          <value name="DMAX">
            <block type="math_number">
              <field name="NUM">180</field>
            </block>
          </value>
        </block>
      </category>
      <category name="Text">
        <block type="text"></block>
      </category>
      <category name="Variables" custom="VARIABLE"></category>
      <category name="Functions" custom="PROCEDURE"></category>
      <sep></sep>
      <category name="Drivers:">
      </category>
        <category name="Analog Sensors">
          <block type="temperature_read"></block>
          <block type="brightness_read"></block>
          <block type="sound_level_read"></block>
          <block type="external_sensor_read"></block>
        </category>
        <category name="Buzzer">
          <block type="buzzer_on"></block>
          <block type="buzzer_off"></block>
        </category>
        <category name="Dot matrix">
          <block type="dot_matrix_display_char"></block>
          <block type="eight_digit_seven_segment_display"></block>
        </category>
        <category name="EEPROM">
          <block type="EEPROM_write_byte"></block>
          <block type="EEPROM_read_byte"></block>
        </category>
          <category name="Four digit seven segment">
          <block type="four_digits_seven_segment_display_num"></block>
          <block type="four_digits_seven_segment_display_string"></block>
          <block type="four_digits_seven_segment_brightness"></block>
        </category>
        <category name="Keypad">
          <block type="keypad_getPressedKey"></block>
        </category>
        <category name="LCD">
          <block type="LCD_sendData"></block>
          <block type="LCD_sendCommand"></block>
          <block type="LCD_write_string"></block>
          <block type="LCD_move_cursor_xy"></block>
          <block type="LCD_write_string_xy"></block>
          <block type="LCD_clear_screen"></block>
        </category>
        <category name="LED">
          <block type="LED_on"></block>
          <block type="LED_off"></block>
          <block type="LED_toggle"></block>
        </category>
        <category name="Motor">
          <block type="motor_on"></block>
          <block type="motor_off"></block>
          <block type="servo_move_to_angle"></block>
        </category>
        <category name="Port Expander">
        <block type="port_expander_module_write"></block>
        <block type="port_expander_module_read"></block>
        </category>
        <category name="Relay">
        <block type="relay_on"></block>
        <block type="relay_on"></block>
        <block type="relay_toggle"></block>
        <block type="SSR_set_brightness"></block>
        </category>
        <category name="Seven Segment">
          <block type="single_digit_seven_segment_show_hex_num"></block>
        </category>
      <sep></sep>
      <category name="Input/Output">
        <block type="inout_highlow"></block>
        <block type="inout_digital_write"></block>
        <block type="h"></block>
        <block type="inout_digital_read"></block>
        <block type="inout_analog_write">
          <value name="NUM">
            <block type="math_number">
              <field name="NUM">0</field>
            </block>
          </value>
        </block>
        <block type="inout_analog_read"></block>
        <block type="serial_print">
          <value name="CONTENT">
            <block type="text">
              <field name="TEXT"></field>
            </block>
          </value>
        </block>
        <block type="inout_tone">
          <value name="NUM">
            <block type="math_number">
              <field name="NUM">440</field>
            </block>
          </value>
        </block>
        <block type="inout_notone"></block>
        <block type="inout_buildin_led"></block>
      </category>
      <!-- Disabled by liolah -->
      <!-- Disabled categories - liolah -->
      <!-- <category name="Servo">
      <block type="servo_move">
        <value name="DEGREE">
          <block type="math_number">
            <field name="NUM">0</field>
          </block>
        </value>
      </block>
      <block type="servo_read_degrees"></block>
    </category>
    <category name="Grove Analog">
      <block type="grove_rotary_angle"></block>
      <block type="grove_temporature_sensor"></block>
      <block type="grove_sound_sensor"></block>
      <block type="grove_thumb_joystick"></block>
    </category>
    <category name="Grove">
      <block type="grove_led"></block>
      <block type="grove_button"></block>
      <block type="grove_relay"></block>
      <block type="grove_tilt_switch"></block>
      <block type="grove_piezo_buzzer"></block>
      <block type="grove_pir_motion_sensor"></block>
      <block type="grove_line_finder"></block>
      <block type="grove_rgb_led"></block>
      <block type="grove_ultrasonic_ranger"></block>
    </category>
    <category name="Grove LCD">
      <block type="grove_serial_lcd_print">
        <value name="TEXT">
          <block type="text">
            <field name="TEXT"></field>
          </block>
        </value>
        <value name="TEXT2">
          <block type="text">
            <field name="TEXT"></field>
          </block>
        </value>
        <value name="DELAY_TIME">
          <block type="math_number">
            <field name="NUM">1000</field>
          </block>
        </value>
      </block>
      <block type="grove_serial_lcd_power"></block>
      <block type="grove_serial_lcd_effect"></block>
    </category>
    <category name="Grove Motor">
      <block type="grove_motor_shield"></block>
    </category> -->
    </xml>
  </body>
</html>
